<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pousada â€” Sistema Vivo</title>
<link rel="manifest" href="manifest.json">
<style>
  body {
    font-family: Arial, sans-serif;
    color: #fff;
    background: linear-gradient(135deg, #0b0d10, #1a1c20);
    text-align: center;
    padding: 20px;
    transition: background 1s;
  }
  #relogio {
    font-size: 3em;
    margin: 20px 0;
    transition: transform 0.3s;
  }
  #frase {
    font-size: 1.5em;
    margin: 20px 0;
    min-height: 40px;
  }
  #entrada {
    margin: 20px 0;
  }
  input, button {
    padding: 10px;
    font-size: 1em;
    border-radius: 5px;
    border: none;
  }
  button {
    background-color: #ff3b3b;
    color: #fff;
    cursor: pointer;
  }
  #diasMes {
    margin-top: 30px;
    font-size: 1.2em;
    color: #aaa;
  }
</style>
</head>
<body>

<h1>Pousada â€” Sistema Vivo</h1>

<div id="relogio">00:00:00</div>
<div id="frase">Bem-vindo! Digite seu nome e registre o turno.</div>

<div id="entrada">
  <input type="text" id="nome" placeholder="Seu nome">
  <input type="text" id="resposta" placeholder="Digite sim ou nÃ£o">
  <button onclick="registrarEntrada()">Confirmar</button>
</div>

<div id="diasMes"></div>

<script>
const frasesTarde = [
  "Tarde produtiva! Nada de cochilo ðŸ˜Ž",
  "Hora de encarar a rotina com ironia ðŸ˜",
  "Mais cafÃ©? Sempre cabe â˜•",
  "O tempo voa, mas vocÃª nÃ£o âœ¨"
];
const frasesNoite = [
  "Noite chegando, mente vazia ou cheia de planos? ðŸŒ™",
  "Ãšltimas horas, segure o tÃ©dio ðŸ’ª",
  "Cuidado com o sono, ele Ã© traiÃ§oeiro ðŸ˜´",
  "Falta pouco para o descanso, aguente firme âš¡"
];
let usadasTarde = [];
let usadasNoite = [];

// Escolhe frase sem repetir
function gerarFrase(array, usadas) {
  if (usadas.length === array.length) usadas = [];
  let frase;
  do {
    frase = array[Math.floor(Math.random() * array.length)];
  } while (usadas.includes(frase));
  usadas.push(frase);
  return frase;
}

// Registrar entrada
function registrarEntrada() {
  const nome = document.getElementById("nome").value.trim();
  const resp = document.getElementById("resposta").value.toLowerCase();
  const fraseArea = document.getElementById("frase");

  if (!nome) {
    fraseArea.textContent = "Digite seu nome antes! ðŸ˜…";
    return;
  }

  if(resp === "sim") {
    fraseArea.textContent = `Turno registrado para ${nome}! Boa sorte ðŸ˜‰`;
  } else if(resp === "nÃ£o") {
    fraseArea.textContent = `${nome}, aguardando sua chegada... â³`;
  } else {
    fraseArea.textContent = "Digite apenas sim ou nÃ£o ðŸ˜…";
  }

  document.getElementById("resposta").value = "";
}

// Atualizar relÃ³gio, frases, fundo e dias para prÃ³ximo mÃªs
function atualizar() {
  const agora = new Date();
  const hora = agora.getHours();
  const minuto = agora.getMinutes();
  const segundo = agora.getSeconds();

  // RelÃ³gio
  const relogio = document.getElementById("relogio");
  relogio.textContent = `${hora.toString().padStart(2,'0')}:${minuto.toString().padStart(2,'0')}:${segundo.toString().padStart(2,'0')}`;
  relogio.style.transform = `rotate(${segundo*6}deg)`; // efeito de ponteiro

  // Frases
  let frase = "";
  if(hora >= 14 && hora < 18) {
    frase = gerarFrase(frasesTarde, usadasTarde);
    document.body.style.background = "linear-gradient(135deg, #0b0d10, #1a1c20)";
  } else if(hora === 18) {
    frase = "Hora da pausa! Volta Ã s 19:00, relaxe ðŸ˜Ž";
    document.body.style.background = "linear-gradient(135deg, #1a1c20, #333)";
  } else if(hora === 19) {
    frase = "Fim da pausa! Hora de retomar o turno ðŸ’ª";
    document.body.style.background = "linear-gradient(135deg, #1a1c20, #444)";
  } else if(hora > 19 && hora < 22) {
    frase = gerarFrase(frasesNoite, usadasNoite);
    document.body.style.background = "linear-gradient(135deg, #000, #222)";
  } else {
    frase = "Fora do turno ðŸ’¤";
    document.body.style.background = "linear-gradient(135deg, #000, #111)";
  }
  document.getElementById("frase").textContent = frase;

  // Dias para prÃ³ximo mÃªs
  const fimMes = new Date(agora.getFullYear(), agora.getMonth()+1, 1);
  const diff = fimMes - agora;
  const dias = Math.ceil(diff / (1000*60*60*24));
  document.getElementById("diasMes").textContent = `Faltam exatamente ${dias} dias para o prÃ³ximo mÃªs.`;
}

// Atualiza a cada segundo
setInterval(atualizar, 1000);
atualizar();
</script>

</body>
</html>